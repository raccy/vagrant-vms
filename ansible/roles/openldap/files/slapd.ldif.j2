dn: cn=config
objectClass: olcGlobal
cn: config

dn: cn=module,cn=config
objectClass: olcModuleList
cn: module
olcModulepath: /usr/lib64/openldap
olcModuleload: accesslog.la
olcModuleload: auditlog.la
# olcModuleload: back_dnssrv.la
# olcModuleload: back_ldap.la
olcModuleload: back_mdb.la
# olcModuleload: back_meta.la
# olcModuleload: back_null.la
# olcModuleload: back_passwd.la
# olcModuleload: back_relay.la
# olcModuleload: back_shell.la
# olcModuleload: back_sock.la
# olcModuleload: collect.la
# olcModuleload: constraint.la
# olcModuleload: dds.la
# olcModuleload: deref.la
# olcModuleload: dyngroup.la
# olcModuleload: dynlist.la
olcModuleload: memberof.la
# olcModuleload: pcache.la
# olcModuleload: ppolicy.la
# olcModuleload: refint.la
# olcModuleload: retcode.la
# olcModuleload: rwm.la
# olcModuleload: seqmod.la
# olcModuleload: smbk5pwd.la
# olcModuleload: sssvlv.la
# olcModuleload: syncprov.la
# olcModuleload: translucent.la
# olcModuleload: unique.la
# olcModuleload: valsort.la

dn: cn=schema,cn=config
objectClass: olcSchemaConfig
cn: schema
include: file:///etc/openldap/schema/core.ldif
include: file:///etc/openldap/schema/cosine.ldif
include: file:///etc/openldap/schema/nis.ldif
include: file:///etc/openldap/schema/inetorgperson.ldif
include: file:///etc/openldap/schema/misc.ldif
# include: file:///etc/openldap/schema/collective.ldif
# include: file:///etc/openldap/schema/corba.ldif
# include: file:///etc/openldap/schema/duaconf.ldif
# include: file:///etc/openldap/schema/dyngroup.ldif
# include: file:///etc/openldap/schema/java.ldif
# include: file:///etc/openldap/schema/openldap.ldif
# include: file:///etc/openldap/schema/pmi.ldif
# include: file:///etc/openldap/schema/ppolicy.ldif
include: file:///etc/openldap/schema/samba.ldif
include: file:///etc/openldap/schema/eduperson.ldif
include: file:///etc/openldap/schema/gakunin.ldif
include: file:///etc/openldap/schema/postfix.ldif

dn: olcDatabase=frontend,cn=config
objectClass: olcDatabaseConfig
olcDatabase: frontend
olcAccess: to dn.base="" by * read
olcAccess: to dn.base="cn=Subschema" by * read
olcAccess: to *
	by self write
	by users read
	by anonymous auth

dn: olcDatabase=config,cn=config
objectClass: olcDatabaseConfig
olcDatabase: config
olcAccess: to * by dn.base="gidNumber=0+uidNumber=0,cn=peercred,cn=external,c
 n=auth" manage by * none

dn: olcDatabase=monitor,cn=config
objectClass: olcDatabaseConfig
olcDatabase: monitor
olcAccess: to * by dn.base="gidNumber=0+uidNumber=0,cn=peercred,cn=external,c
 n=auth" read by dn.base="{{ openldap.root.dn }}" read by * none

dn: olcDatabase=mdb,cn=config
objectClass: olcDatabaseConfig
objectClass: olcMdbConfig
olcDatabase: mdb
olcSuffix: {{ openldap.base }}
olcRootDN: {{ openldap.root.dn }}
olcRootPW:: {{ openldap.root.password }}
olcDbDirectory: /var/lib/ldap
olcDbIndex: objectClass eq,pres
olcDbIndex: ou,cn,mail,surname,givenname eq,pres,sub

dn: olcOverlay=memberof,olcDatabase=mdb,cn=config
objectClass: olcOverlayConfig
objectClass: olcMemberOf
olcOverlay: memberof
# olcMemberOfGroupOC: groupOfNames
# olcMemberOfMemberAD: member
# olcMemberOfMemberOfAD: memberOf
# olcMemberOfDangling: ignore
olcMemberOfRefInt: TRUE
